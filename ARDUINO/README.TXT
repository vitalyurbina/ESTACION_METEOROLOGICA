ğŸ”Œ CÃ³digo para Arduino Nano ESP32 â€“ Lectura de Sensores Ambientales
Este sketch estÃ¡ diseÃ±ado para ejecutarse en un Arduino Nano ESP32. Su funciÃ³n principal es leer datos ambientales desde tres sensores conectados, procesarlos y enviarlos por el puerto serial cuando se recibe una seÃ±al de activaciÃ³n externa.

ğŸ“¡ Sensores utilizados
DHT11

Mide temperatura (Â°C) y humedad relativa (%).

Conectado al pin digital D2.

Sensor de RadiaciÃ³n UV (salida analÃ³gica)

Mide el nivel de radiaciÃ³n ultravioleta.

Conectado al pin A0.

Se mide como voltaje (0â€“3.3â€¯V).

BMP280

Mide presiÃ³n atmosfÃ©rica (hPa) y calcula altitud (m).

Conectado por I2C (SDA, SCL).

âš™ï¸ Funcionamiento del cÃ³digo
Al iniciar, el ESP32 configura todos los sensores y el puerto serial.

Permanece a la espera de que le envÃ­en por serial el carÃ¡cter 'A'.

Al recibirlo:

Lee los valores de temperatura y humedad del DHT11.

Lee el voltaje del sensor UV desde el pin analÃ³gico A0 (con resoluciÃ³n de 8 bits).

Lee presiÃ³n y altitud desde el BMP280.

Combina todos los datos en una sola lÃ­nea de texto CSV.

Ejemplo de salida por serial:
25.60,52.30,1.21,1011.85,64.37
Orden: temperatura, humedad, voltaje UV, presiÃ³n (hPa), altitud (m)

ğŸ§ª Estructura del flujo
void loop() {
  if (Serial.available()) {
    char letra = Serial.read();
    if (letra == 'A') {
      // Lectura de sensores
      radiacionUV();
      Altura_Presion();
      temperatura_humedad();

      // EnvÃ­o por Serial
      String datos = String(temperatura) + "," + String(humedad) + "," + String(uv) + "," + String(presion) + "," + String(altitud);
      Serial.println(datos);
    }
  }
}
ğŸ› ï¸ Requisitos
LibrerÃ­as Arduino necesarias
Adafruit_BMP280

DHT sensor library

Adafruit Unified Sensor

InstÃ¡lalas desde el Library Manager del IDE de Arduino.

ğŸ“ Notas
El valor del sensor UV estÃ¡ calibrado para una referencia de 3.3â€¯V y ADC de 8 bits.

El sistema espera una orden para leer sensores, lo que permite sincronizarlo con un sistema externo como una Orange Pi o una Raspberry Pi.

Ideal para aplicaciones IoT, estaciones meteorolÃ³gicas, agricultura inteligente o monitoreo ambiental en tiempo real.

